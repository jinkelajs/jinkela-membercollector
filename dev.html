<meta charset="utf-8" />
<script src="https://unpkg.com/jinkela@1.3.3/umd.js"></script>
<script src="https://unpkg.com/requirejs@2.3.5/require.js"></script>
<body>
<script>
var data = [
  { id: 1, name: 'Sales Department' },
  { id: 2, name: 'Product Development Department' },
  { id: 100, parentId: 1, name: 'Group A' },
  { id: 101, parentId: 1, name: 'Group B' },
  { id: 200, parentId: 2, name: 'Group C' },
  { id: 201, parentId: 2, name: 'Group D' },
  { id: 1000, parentId: 100, name: 'Group X' }
];
let index = 0;
for (let i of data) {
  i.members = [];
  for (let j = 0; j < 5; j++) {
    let id = ++index;
    let name = `Member ${index}`;
    i.members.push({ id, name });
  }
}

class Extension extends Jinkela {
  init() {
    console.log(1);
  }
  get tagName() { return 'input'; }
  get styleSheet() {
    return `
      :scope {
        border: 1px solid #ccc;
        border-radius: 4px;
        line-height: 20px;
        margin-left: 10px;
        width: 100px;
        padding: 0 5px;
        box-sizing: border-box;
      }
    `;
  }
  get value() { return this.element.value; }
  set value(value = '') { this.element.value = value; }
  get disabled() { return this.element.disabled; }
  set disabled(value) { this.element.disabled = value; }
}

require([ 'index.js' ], (MemberCollector) => {

  new MemberCollector({ data, extension: Extension }).to(document.body);

});
</script>
